<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Inline Events</title>
</head>
<body>

<h1>Songs</h1>

<ul id="songs"></ul>

<script src="songmodel.js"></script>
<script>
    //usually the defnition of inline events in templates
    //should be avoided in favor of defining data-* attributes
    //in the template an handling the event at a parent (event bubbling)
    //The problem of, inline event handlers is that these corresponding
    //functions must be accessible in the global scope. This can lead
    //to unanticipated naming conflicts in larger applications.
  function createSongsHtml(songs) {
    return songs.map(song =>
        `<li>
            <h3>${song.rating}
                <button onclick="rate('${song.id}', 1)">+</button>
                <button onclick="rate('${song.id}', -1)">-</button>
                ${song.title}
            </h3>
          <p>${song.artist}</p>
        </li>`).join('');
  }

  function rate(id, delta)
  {
      rateSong(id, delta);
      renderSongs();
  }

  function renderSongs() {
      document.getElementById("songs").innerHTML = createSongsHtml(songsSorted());
  }

  function init(){
      renderSongs();
  }
  init();
</script>
</body>
</html>